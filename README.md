####  :bouquet: å¤šåª’ä½“æ¶æ„è®¾è®¡
![å¤šåª’ä½“æ¶æ„è®¾è®¡](/Images/video-system.png)    
####  :rose: ç‚¹æ’­æ¶æ„è®¾è®¡
![Markdown](/Images/vod-system.png) 
####  :rose: ç‚¹æ’­æµç¨‹å›¾
![Markdown2](/Images/aliyun-viedo-upload.svg) 
### :hibiscus:  æ›´æ–°è¿›åº¦
+ Â  2018å¹´1æœˆ16æ—¥ æ˜ŸæœŸäºŒ ğŸ‘¾ [éŸ³è§†é¢‘è§£å†³æ–¹æ¡ˆ NGINX-RTMP-TS-DASH](https://github.com/Tinywan/NGINX-RTMP-TS-DASH)
+ Â  2017å¹´11æœˆ23æ—¥ æ˜ŸæœŸå›› [mediaelement player æ’­æ”¾å™¨](https://github.com/mediaelement/mediaelement) ã€[åœ¨çº¿ Demo](http://github.tinywan.com/html5-dash-hls-rtmp/MediaElement/)Â 

    > æ”¯æŒMP4ï¼ŒWebMå’ŒMP3ä»¥åŠHLSï¼ŒDashï¼ŒYouTubeï¼ŒFacebookï¼ŒSoundCloudå’Œå…¶ä»–HTML5 MediaElement APIçš„HTML5 <audio>æˆ–<video>æ’­æ”¾å™¨ï¼Œå¯åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­å®ç°ä¸€è‡´çš„UIã€‚  
    
+   2017å¹´11æœˆ02æ—¥ æ˜ŸæœŸå›› æ·»åŠ ä¸€ä¸ª[Aliplayer](https://player.alicdn.com/aliplayer/index.html)æ’­æ”¾å™¨ï¼Œå¯ä»¥åœ¨çº¿é…ç½®
+   2017å¹´04æœˆ18æ—¥ æ˜ŸæœŸäºŒ [è§£å†³VideoJsé˜¿é‡Œäº‘ç›´æ’­å’Œç‚¹æ’­è·¨åŸŸé—®é¢˜](http://www.cnblogs.com/tinywan/p/6234463.html)
+   2017å¹´06æœˆ06æ—¥ æ˜ŸæœŸäºŒ æ·»åŠ ä¸€ä¸ªå¼€æºçš„æ’­æ”¾å™¨ï¼š Sewise-Player æ’­æ”¾å™¨
+   2017å¹´06æœˆ07æ—¥ æ˜ŸæœŸä¸‰ Play-RTMP-HLS-Stream ä»£ç æ–¹æ³•ä¼˜åŒ–
### :tropical_fish: ç›´æ’­æº
+ Â  HLS-001&emsp;`http://hls-live.jia.360.cn/live_jia_public/_LC_RE_non_3605277091515101384821337866_BX/index.m3u8`
+   é¦™æ¸¯å«è§†&emsp;`http://live.hkstv.hk.lxdns.com/live/hks/playlist.m3u8`
+   CCTV1é«˜æ¸…&emsp;`http://ivi.bupt.edu.cn/hls/cctv1hd.m3u8`
+   CCTV5é«˜æ¸…&emsp;`http://ivi.bupt.edu.cn/hls/cctv5hd.m3u8`
+   æ­åº·&emsp;`http://live.hkstv.hk.lxdns.com/live/hks/playlist.m3u8`
### :tropical_fish: è¯¦ç»†ä»‹ç»
+   ä»¥ä¸‹æµ‹è¯•å»¶è¿Ÿå¤šä¸ºå±€åŸŸç½‘æµ‹è¯•ç¯å¢ƒï¼ˆçº¿ä¸Šä¸ºé˜¿é‡Œäº‘å¹³å°æµ‹è¯•ï¼‰
+   M3U8 ç›´æ’­æˆ–è€…ç‚¹æ’­DEMO
### :sunny: VideoJs-M3U8
+ [x] 1ã€æ”¯æŒç›´æ’­æµï¼šHSLçš„ m3u8   
+ [x] 2ã€å¦‚ä½•ä½¿ç”¨ï¼šç›´æ¥ä¸‹è½½å³å¯ä½¿ç”¨,æ³¨æ„ç‚¹ï¼š m3u8 æ’­æ”¾å¿…é¡»æ”¾åœ¨æœåŠ¡å™¨ä¸‹é¢  
+ [x] 3ã€é»˜è®¤ï¼šm3u8æ’­æ”¾   
+ [x] 4ã€å»¶è¿Ÿæµ‹è¯•(å±€åŸŸç½‘æµ‹è¯•)
     + [x] RTMP å»¶è¿Ÿï¼š2s   
     + [x] HLS å»¶è¿Ÿï¼š 18s 
     + [x] VLC å»¶è¿Ÿ(ä¸æ¨è)ï¼š 18s  
+ [x] 5ã€é‰´æƒï¼šå¯ä»¥      
+ [x] çš®è‚¤æ”¯æŒ
    + [å®˜æ–¹çš®è‚¤](http://www.scriptsmashup.com/Video_Skin_Generator/Videojs/videojs-skin-generator.html)
    + YouTouBe
       + ![YouTouBe](/Images/YouTouBe.jpg)
     + facebook-player   
       + ![facebook-player](/Images/facebook.jpg)
### :cloud: m3u8-IE-Support 
+ [x] å…¼å®¹æ‰€æœ‰æµè§ˆå™¨
+ [x] æ”¯æŒIE11 æµè§ˆå™¨æ’­æ”¾  
+ [x] æµ‹è¯•ç»“æœï¼šé€šè¿‡ 
### :cyclone:   VideoJs2017
+ [x] 1ã€RTMP æ”¯æŒæ’­æ”¾
+ [x] 2ã€æ”¯æŒé‰´æƒ 
+ [ ] 3ã€~~M3U8 IE æš‚æ—¶ä¸æ”¯æŒæ’­æ”¾~~  
+ [x] 4ã€å»¶è¿Ÿæµ‹è¯•(å±€åŸŸç½‘æµ‹è¯•)
    + [x] RTMP å»¶è¿Ÿï¼š2s   
    + [x] HLS å»¶è¿Ÿï¼š 18s 
    + [x] VLC å»¶è¿Ÿ(ä¸æ¨è)ï¼š 18s 
+ æµ‹è¯•æ’­æ”¾åˆ—è¡¨
     + [1] RTMPç›´æ’­æµï¼š`rtmp-stream.html`
     + [2] HLSç›´æ’­å’Œç‚¹æ’­ï¼š`hls-stream.html`
     + [3] ç›´æ’­å’Œç‚¹æ’­HLSçš„M3U8æ’­æ”¾(å¯è¾“å…¥åŠ¨æ€æ”¹å˜HLSåœ°å€)ï¼š`auto-input-hls-player.html`
        + é‡åˆ°JSè·¨åŸŸçš„é—®é¢˜ï¼š
            - `The value of the 'Access-Control-Allow-Origin' header in the response must not be the wildcard '*' when the request's credentials mode is 'include'. Origin 'http://127.0.0.1`
        + è§£å†³åŠæ³•(Nginx æœåŠ¡å™¨é…ç½®æ–¹æ³•ï¼ŒApacheè‡ªè¡Œç™¾åº¦)ï¼š
        ```
        location /record {
            add_header Cache-Control no-cache;
            add_header 'Access-Control-Allow-Origin' '*' always;
            add_header 'Access-Control-Expose-Headers' 'Content-Length,Content-Range';
            add_header 'Access-Control-Allow-Headers' 'Range';
            types{
                    application/dash+xml mpd;
                    application/vnd.apple.mpegurl m3u8;
                    video/mp2t ts;
             }
            alias /home/tinywan/hls;
         }

        ```
        + æµ‹è¯•åœ°å€ï¼š`http://192.168.18.143/record/stream_name/index.m3u8`
+ [x] æµ‹è¯•è¿›åº¦
    + [2017å¹´4æœˆ10æ—¥ ä¸‹åˆ 16:00 ] å±€åŸŸç½‘çš„HSLå’ŒRTMPæµå»¶è¿Ÿçš„æµ‹è¯•
        > æµ‹è¯•ç»“æœï¼šRTMP å»¶è¿Ÿï¼š2s ï¼ŒHLS å»¶è¿Ÿï¼š 18s    
    + [2017å¹´4æœˆ11æ—¥ ä¸‹åˆ 13:00 ] ç›´æ’­å’Œç‚¹æ’­HLSçš„M3U8æ’­æ”¾(å¯è¾“å…¥åŠ¨æ€æ”¹å˜HLSåœ°å€),JS è·¨åŸŸé—®é¢˜    

#### :umbrella: Play-RTMP-HLS-Stream(Obj-Flash) 
+   æ”¯æŒ RTMP å’Œ M3U8 ç›´æ’­å…¼å®¹æ’­æ”¾
+   å‚æ•°è¯´æ˜
    +   è¯­æ³•ï¼š`embedSWF: function(swfUrlStr, replaceElemIdStr, widthStr, heightStr, swfVersionStr, xiSwfUrlStr, flashvarsObj, parObj, attObj, callbackFn)`
        1.  `swfUrlStr`:æŒ‡å®šæ‚¨çš„SWFçš„URLï¼ˆStrobeMediaPlayback.swfï¼‰
        1.  `replaceElemIdStr`:æŒ‡å®šåŒ…å«æ›¿æ¢å…ƒç´ çš„htmlå…ƒç´ çš„ID,èƒ½ç”¨ä½ çš„flashçš„å†…å®¹æ¥æ›¿æ¢
        1.  `widthStr`:æŒ‡å®šSWFçš„å®½åº¦
        1.  `heightStr`:æŒ‡å®šSWFçš„é«˜åº¦
        1.  `swfVersionStr`:æŒ‡å®šSWF å‘å¸ƒæ‰€éœ€çš„flashæ’­æ”¾å™¨çš„ç‰ˆæœ¬
        1.  `xiSwfUrlStr`:æŒ‡å®šå¿«é€Ÿå®‰è£…çš„è·¯å¾„ï¼Œæ¿€æ´»å¿«é€Ÿå®‰è£…. è¯·æ³¨æ„ï¼Œå¿«é€Ÿå®‰è£…åªä¼šè§¦å‘ä¸€æ¬¡ï¼ˆä»–ç¬¬ä¸€æ¬¡è¢«è°ƒç”¨ï¼‰
        1.  `flashvarsObj`:æŒ‡å®šéœ€è¦ä¼ é€’ç»™flashçš„å˜é‡ï¼ˆç”¨é”®å€¼å¯¹ï¼‰
        1.  `parObj`:æŒ‡å®šåµŒå…¥å¯¹è±¡çš„å‚æ•°ï¼ˆç”¨é”®å€¼å¯¹ï¼‰
        1.  `attObj`:æŒ‡å®šå¯¹è±¡çš„å±æ€§ï¼ˆç”¨é”®å€¼å¯¹ï¼‰
        1.  `callbackFn`: (JavaScript function, optional)èƒ½å®šä¹‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¸ç®¡è°ƒç”¨flashåˆ›å»ºæˆåŠŸæˆ–è€…å¤±è´¥éƒ½å¯ä»¥è°ƒç”¨è¯¥å‡½æ•°
+   æ–‡æ¡£
    + [x] 1ã€æ”¯æŒï¼šæ’­æ”¾RTMPç›´æ’­æµå’ŒHSLç›´æ’­æµ   
    + [x] 2ã€å¦‚ä½•ä½¿ç”¨ï¼šç›´æ¥ä¸‹è½½å³å¯ä½¿ç”¨,æ³¨æ„ç‚¹ï¼šm3u8 æ’­æ”¾å¿…é¡»æ”¾åœ¨æœåŠ¡å™¨ä¸‹é¢ï¼Œè´Ÿè½½å­˜åœ¨è·¨åŸŸé—®é¢˜  
    + [x] 3ã€é»˜è®¤ï¼šRTMPæ’­æ”¾   
    + [x] 4ã€å»¶è¿Ÿï¼š
        + [x] RTMP å»¶è¿Ÿï¼š3s   
        + [x] HLS å»¶è¿Ÿï¼š 20s  
    + [x] 5ã€è·¨åŸŸï¼šOK
    + [x] 6ã€é‰´æƒï¼šOK ï¼ˆæœåŠ¡æ·»åŠ xmlè·¨åŸŸæ–‡ä»¶ï¼‰
    + [x] 7ã€å¾…è§£å†³é—®é¢˜ï¼šjs è°ƒç”¨swfé—®é¢˜~~~~~~~~~~~
    + [x] æµ‹è¯•è¿›åº¦
        + [2017å¹´4æœˆ10æ—¥ ä¸‹åˆ 16:00 ] å±€åŸŸç½‘çš„HSLå’ŒRTMPæµå»¶è¿Ÿçš„æµ‹è¯•ï¼Œæµ‹è¯•ç»“æœï¼šRTMP å»¶è¿Ÿï¼š3s ï¼ŒHLS å»¶è¿Ÿï¼š 20s 
        + [2017å¹´6æœˆ7æ—¥ ä¸‹åˆ 16:00 ] ä»£ç ä¼˜åŒ–,è¯¥é¡µé¢è¿›è¡Œè¿‡ä¼˜åŒ–`play2video2.html`ï¼Œé»˜è®¤é™éŸ³æ’­æ”¾

#### Video-dev-Hls
+ [https://github.com/video-dev/hls.js](https://github.com/video-dev/hls.js)
+ æµ‹è¯•æ¡ˆä¾‹
   
#### Sewise-Player æ’­æ”¾å™¨
+   [https://github.com/jackzhang1204/sewise-player](https://github.com/jackzhang1204/sewise-player)
    
#### (Push)Play-RTMP-Info (åŠŸèƒ½æ¯”è¾ƒå¼ºå¤§)
+ æ’­æ”¾RTMPç›´æ’­æµ,åŒæ—¶æ˜¾ç¤ºç›´æ’­æµçš„è¯¦ç»†ä¿¡æ¯

##  éŸ³é¢‘å’Œè§†é¢‘æŠ€æœ¯æ–‡æ¡£
+   [å®æ—¶æµå¼ä¼ è¾“ç½‘ç»œéŸ³é¢‘å’Œè§†é¢‘](https://developer.mozilla.org/en-US/Apps/Fundamentals/Audio_and_video_delivery/Live_streaming_web_audio_and_video)
+   æœåŠ¡å™¨ç«¯æµåª’ä½“æŠ€æœ¯
    +   [GStreamer](https://gstreamer.freedesktop.org/)
    +   [Nginx RTMPæ¨¡å—](https://github.com/arut/nginx-rtmp-module)    
    +   [SHOUTcast](http://en.wikipedia.org/wiki/SHOUTcast) 
+   [ä¸º HTML 5 è§†é¢‘æä¾›çš„ DASH è‡ªé€‚åº”ä¸²æµ](https://developer.mozilla.org/zh-CN/docs/Web/HTML/DASH_Adaptive_Streaming_for_HTML_5_Video)    
+   [HTTPè®¿é—®æ§åˆ¶ï¼ˆCORSï¼‰](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS)
+   [ä½¿ç”¨ canvas å¤„ç†è§†é¢‘](https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Manipulating_video_using_canvas)
+   [éŸ³é¢‘å’Œè§†é¢‘å†…å®¹](https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content)
+   [åŸºäºHTTPçš„åŠ¨æ€è‡ªé€‚åº”æµåª’ä½“](https://en.wikipedia.org/wiki/Dynamic_Adaptive_Streaming_over_HTTP)       
+   [P2På¦‚ä½•å°†è§†é¢‘ç›´æ’­å¸¦å®½é™ä½75%ï¼Ÿ](http://mp.weixin.qq.com/s/ryojkLRb1x02pr0KSFzP9Q)       
+   [å±•æœ›2018éŸ³è§†é¢‘æŠ€æœ¯ï¼šAV1ï¼ŒAIï¼ŒåŒºå—é“¾ï¼ŒWebRTC](http://mp.weixin.qq.com/s/lX9WWqSS0KGQddrOVqV-Jg)       
+   [æ€ä¹ˆè®©ä¸å¯é çš„UDPå¯é ï¼Ÿ](http://mp.weixin.qq.com/s/-yJH782XEnaezr7NWu8lIw)        
+   [Twitchå¦‚ä½•å®ç°è½¬ç å™¨æ¯”FFmepgæ€§èƒ½æå‡65%ï¼Ÿï¼ˆä¸Šï¼‰](http://mp.weixin.qq.com/s/F7BBKM5heMu6EN705N504A)        
+   [Twitchå¦‚ä½•å®ç°è½¬ç å™¨æ¯”FFmpegæ€§èƒ½æå‡65%ï¼Ÿï¼ˆä¸‹ï¼‰](http://mp.weixin.qq.com/s/BCMLzV9MlOjsnHzzfkTKkA)     
     
## FFmpeg HLS å‘½ä»¤è®°å½•
+   [https://github.com/video-dev/hls.js](https://github.com/video-dev/hls.js)
+   [å®˜æ–¹æ–‡æ¡£http://www.ffmpeg.org/ffmpeg-formats.html](http://www.ffmpeg.org/ffmpeg-formats.html)
+   `hls_segment_filename` æ–‡ä»¶å
    +   è®¾ç½®æ®µæ–‡ä»¶åã€‚é™¤éhls_flags single_fileè®¾ç½®ï¼Œ æ–‡ä»¶åå°†è¢«ç”¨ä½œå…·æœ‰æ®µå·çš„å­—ç¬¦ä¸²æ ¼å¼ï¼š
    +   æ ¼å¼ï¼š`ffmpeg -i in.nut -hls_segment_filename'fileï¼…03d.ts'out.m3u8`
    +   æ­¤ç¤ºä¾‹å°†ç”Ÿæˆæ’­æ”¾åˆ—è¡¨ï¼Œ out.m3u8ï¼Œå’Œæ®µæ–‡ä»¶ï¼š file000.tsï¼Œ file001.tsï¼Œ file002.tsç­‰ç­‰
+   `use_localtime` æ–‡ä»¶å
    +   å¯¹æ–‡ä»¶åä½¿ç”¨strftimeï¼ˆï¼‰æ¥æ‰©å±•æœ¬åœ°æ—¶é—´æ®µçš„æ–‡ä»¶åã€‚æ®µå·ä¹Ÿå¯åœ¨æ­¤æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œä½†è¦ä½¿ç”¨å®ƒï¼Œæ‚¨éœ€è¦æŒ‡å®šsecond_level_segment_index hls_flagï¼Œè€Œ%% då°†æ˜¯è¯´æ˜ç¬¦ã€‚
    +   æ ¼å¼ï¼š`ffmpeg -i in.nut -use_localtime 1 -hls_segment_filename'file-ï¼…Yï¼…mï¼…d-ï¼…s.ts'out.m3u8`
    +   æ­¤ç¤ºä¾‹å°†ç”Ÿæˆæ’­æ”¾åˆ—è¡¨ï¼Œ out.m3u8ï¼Œå’Œæ®µæ–‡ä»¶ï¼š æ–‡ä»¶20160215-1455569023.tsï¼Œ æ–‡ä»¶20160215-1455569024.tsç­‰ç­‰ã€‚æ³¨æ„ï¼šåœ¨æŸäº›ç³»ç»Ÿ/ç¯å¢ƒä¸­ï¼Œè¯´æ˜%sç¬¦ä¸å¯ç”¨ã€‚è§ strftime()æ–‡ä»¶ã€‚
+   ts æ–‡ä»¶è½¬æ¢æˆm3u8æ–‡ä»¶:`ffmpeg -i 854-1496985395500.ts -c copy -map 0 -f segment -segment_list playlist.m3u8 -segment_time 10 output%03d.ts`        
+   ç äº‘æäº¤ä»£ç ==Github åŒæ­¥diamante     
